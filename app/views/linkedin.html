
<body ng-controller="LiCtrl">
	<!-- header -->
	<ng:include src="'views/header.html'"></ng:include>
	<!-- body -->
	<div class="container-semifluid" id="appBody">

		<div class="container-fixed" ng-show="loggedUser">
			<h2>Hi, {{userprofile.firstName}} {{userprofile.lastName}}</h2>
			<a href="{{userprofile.publicProfileUrl}}" target="_blank"> 
				<img class="img-polaroid" ng-src="{{userprofile.pictureUrl}}"/>
			</a>

			<div style="margin-top:10px">
				<p>If the button to login into linkedin does not appear:
					<ul>
						<li> 1) You may be already logged in LinkedIn. Click on the button Logout to eventually logout.
						<li> 2) An extension of your browser may block the import of the LinkedIn script. 
					</ul>
				</p>
				<button class="btn btn-mini btn-inverse" style="margin-top:0px;" type="button" ng-click="logoutLinkedIn()">Logout</button>
			</div>

			<h2>Information available through the API</h2>
				<h3> Personal information </h3>
					<ul>
						<li> ID: {{userprofile.id}} 
						<li> Firstname: {{userprofile.firstName}} 
						<li> Lastname: {{userprofile.lastName}}
						<li> <span ng-show="userprofile.maidenName">MaidenName: {{userprofile.maidenName}}</span>
						<li> Location: {{userprofile.location.name}} ({{userprofile.location.country.code}})
						<li> numConnections: {{userprofile.numConnections}} {{numConnectionsCapped}}
						<li> Email: {{userprofile.emailAddress}}
					</ul>

				<h3> Job related information </h3>
					<ul>
						<li> Headline: {{userprofile.headline}} 
						<li> Specialities: Cannot be shown via API connection
						<li> Summary: Cannot be shown via API connection
						<li> <span ng-show="userprofile.industry">Industry: {{userprofile.industry.description}} ({{userprofile.industry.code}})</span>
					</ul>
					
					<table>
					    <tr>
					        <th>ID</th>
					        <th>Title</th>
					        <th>Start</th>
					        <th>End</th>
					        <th>Company</th>
					        <th>CompanyID</th>
					        <th>Size</th>
					        <th>Ticker</th>
					        <th>Type</th>
					    </tr>
					    <tr ng-repeat="position in positions">
					        <td>{{position.id}}</td>
					        <td>{{position.title}}</td>
					        <td><span ng-show="position.startDate">{{position.startDate.month}}/{{position.startDate.year}}</span></td>
					        <td><span ng-show="position.endDate">{{position.endDate.month}}/{{position.endDate.year}}</span></td>
					        <td>{{position.company.name}}</td>
					        <td>{{position.company.id}}</td>
					        <td>{{position.company.size}}</td>
					        <td>{{position.company.ticker}}</td>
					        <td>{{position.company.type}}</td>
					    </tr>
					</table>

			<h2>Public information</h2>
				<ul>
					<li> URL: <a href="{{userprofile.publicProfileUrl}}" target="_blank"> {{userprofile.publicProfileUrl}}</a>
					<li> Full profile: <a href="{{userprofile.siteStandardProfileRequest.url}}" target="_blank"> {{userprofile.siteStandardProfileRequest.url}}</a>
				</ul>
		</div>

		<div class="row-fluid">
			<div class="container-fixed hero-unit" ng-show="!loggedUser">
				<p>Please sign in with your LinkedIn account.</p>
				<script type="IN/Login"></script>
			</div>
		</div>

		<hr>
		<footer>
			<p>LinkedIn functionalities inspired from the repository published by <a href="https://github.com/eucuepo/angular-linkedin">Eugenio Cuevas</a></p>
		</footer>
	</div>
</body>